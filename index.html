<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hallway Hub</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f6fa;
      color: #222;
    }

    header {
      text-align: center;
      padding: 25px 10px;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    h1 {
      margin: 0;
      font-size: 2rem;
      font-weight: 700;
    }

    #search {
      margin-top: 15px;
      width: 90%;
      max-width: 500px;
      padding: 12px 15px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      outline: none;
      transition: 0.2s;
    }

    #search:focus {
      border-color: #6aa6ff;
      box-shadow: 0 0 5px rgba(106,166,255,0.5);
    }

    /* CATEGORY BAR */
    .categories {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      padding: 15px;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .cat {
      padding: 8px 15px;
      background: #e8ecf5;
      border-radius: 20px;
      cursor: pointer;
      transition: 0.2s;
      font-size: 0.9rem;
    }

    .cat:hover {
      background: #d6def0;
    }

    .cat.active {
      background: #6aa6ff;
      color: white;
    }

    /* GAME GRID */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
      padding: 20px;
    }

    .game {
      background: #ffffff;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: 0.2s;
      cursor: pointer;
    }

    .game:hover {
      transform: scale(1.05);
    }

    .game img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<header>
  <h1>Hallway Hub</h1>
  <input id="search" type="text" placeholder="Search games...">
</header>

<!-- CATEGORY BAR -->
<div class="categories">
  <div class="cat active" data-cat="all">All</div>
  <div class="cat" data-cat="action">Action</div>
  <div class="cat" data-cat="racing">Racing</div>
  <div class="cat" data-cat="puzzle">Puzzle</div>
  <div class="cat" data-cat="sports">Sports</div>
  <div class="cat" data-cat="arcade">Arcade</div>
  <div class="cat" data-cat="platformer">Platformer</div>
  <div class="cat" data-cat="io">IO Games</div>
  <div class="cat" data-cat="idle">Idle / Clicker</div>
  <div class="cat" data-cat="adventure">Adventure</div>
</div>

<div class="grid" id="games"></div>

<script>
  // Your raw list goes here
  const raw = `
      <a data-cat="adventure" href="games/bob-the-robber-2/"><img src="images/bob-the-robber-2.png" alt="Bob the Robber 2"></a>

<a data-cat="platformer" href="games/vex7/"><img src="images/vex7.jpeg" alt="Vex 7"></a>
<a data-cat="platformer" href="games/vex6/"><img src="images/vex6.jpeg" alt="Vex 6"></a>
<a data-cat="platformer" href="games/vex3/"><img src="images/vex3.jpg" alt="Vex 3"></a>
<a data-cat="platformer" href="games/vex4/"><img src="images/vex4.jpg" alt="Vex 4"></a>
<a data-cat="platformer" href="games/vex5/"><img src="images/vex5.jpg" alt="Vex 5"></a>

<a data-cat="adventure" href="games/minecraft/"><img src="images/mc.png" alt="Minecraft"></a>

<a data-cat="racing" href="games/moto-x3m/"><img src="images/moto-x3m.jpg" alt="Moto X3M"></a>
<a data-cat="racing" href="games/motox3m2/"><img src="images/motox3m2.jpg" alt="Moto X3M 2"></a>
<a data-cat="racing" href="games/drive-mad/"><img src="images/drive-mad.jpg" alt="Drive Mad"></a>
<a data-cat="racing" href="games/drift-boss/"><img src="games/drift-boss/drift-boss.png" alt="Drift Boss"></a>
<a data-cat="racing" href="games/dune/"><img src="games/dune/dune.jpg" alt="Dune"></a>
<a data-cat="racing" href="games/slow-roads/"><img src="games/slow-roads/slow-roads.webp" alt="Slow Roads"></a>
<a data-cat="racing" href="games/e-scooter/"><img src="games/e-scooter/e-scooter.jpg" alt="E-Scooter"></a>
<a data-cat="racing" href="games/drift-hunters/"><img src="games/drift-hunters/drift-hunters.png" alt="Drift Hunters"></a>

<a data-cat="sports" href="games/retro-bowl/"><img src="images/retro-bowl.jpg" alt="Retro Bowl"></a>
<a data-cat="sports" href="games/basket-random/"><img src="games/basket-random/basket.png" alt="Basket Random"></a>
<a data-cat="sports" href="games/basketball-stars/"><img src="games/basketball-stars/basketball-stars.webp" alt="Basketball Stars"></a>
<a data-cat="sports" href="games/sls/"><img src="games/sls/sls.webp" alt="Super Liquid Soccer"></a>
<a data-cat="sports" href="games/ten-basket/"><img src="games/ten-basket/ten-basket.png" alt="Ten Basket"></a>
<a data-cat="sports" href="games/pko/"><img src="games/pko/pko.png" alt="Penalty Kick Online"></a>
<a data-cat="sports" href="games/2min/"><img src="games/2min/418572a6bbddb5359501b93153290fba.png" alt="2 Minute Football"></a>

<a data-cat="arcade" href="games/slope/"><img src="images/slope.jpg" alt="Slope"></a>
<a data-cat="arcade" href="games/spiral-roll/"><img src="games/spiral-roll/spiral-roll.png" alt="Spiral Roll"></a>
<a data-cat="arcade" href="games/hard-game/"><img src="games/hard-game/hard-game.webp" alt="The Worlds Hardest Game"></a>
<a data-cat="arcade" href="games/fruit-ninja/"><img src="games/fruit-ninja/fruit-ninja.png" alt="Fruit Ninja"></a>
<a data-cat="arcade" href="games/bridge-race/"><img src="games/bridge-race/bridge-race.webp" alt="Bridge Race"></a>
<a data-cat="arcade" href="games/red-ball/"><img src="games/red-ball/red-ball.jpg" alt="Red Ball 4"></a>

<a data-cat="puzzle" href="games/2048/"><img src="games/2048/2048.png" alt="2048"></a>
<a data-cat="puzzle" href="games/happy-glass/"><img src="games/happy-glass/happy-glass.png" alt="Happy Glass"></a>
<a data-cat="puzzle" href="games/bloxorz/"><img src="games/bloxorz/blox.jpg" alt="Bloxorz"></a>
<a data-cat="puzzle" href="games/math-duck/"><img src="games/math-duck/math-duck.webp" alt="Math Duck"></a>

<a data-cat="idle" href="games/Idle Breakout/"><img src="games/Idle Breakout/image.png" alt="Idle Breakout"></a>
<a data-cat="idle" href="games/i-a/"><img src="games/99-n/i-a.jpg" alt="Idle Ants"></a>
<a data-cat="idle" href="games/mining/"><img src="games/mining/mining.webp" alt="Idle Mining Empire"></a>
<a data-cat="idle" href="games/idle-r/"><img src="games/idle-r/idle-r.webp" alt="Idle Restaurants"></a>

<a data-cat="action" href="games/getaway-shootout/"><img src="games/getaway-shootout/img/images.jpg" alt="Getaway Shootout"></a>
<a data-cat="action" href="games/r-a/"><img src="games/r-a/logo.jpeg" alt="Ragdoll Archers"></a>
<a data-cat="action" href="games/r-h/"><img src="games/r-h/r-h.png" alt="Ragdoll Hit"></a>
<a data-cat="action" href="games/g-s/"><img src="games/g-s/g-s.webp" alt="Gun Spin"></a>
<a data-cat="action" href="games/boxing-random/"><img src="games/boxing-random/boxing-random.webp" alt="Boxing Random"></a>

<a data-cat="io" href="games/yoho/"><img src="games/yoho/yoho.png" alt="Yohoho.io"></a>
<a data-cat="io" href="/snowball"><img src="games/snowball.io/snowball.io.jpg" alt="Snowball.io"></a>
<a data-cat="io" href="games/paper.io-2/"><img src="games/paper.io-2/paper.io-2.png" alt="Paper.io 2"></a>

<a data-cat="platformer" href="games/ovo/"><img src="games/ovo/ovo.png" alt="OvO"></a>
<a data-cat="platformer" href="/geometry-dash"><img src="images/geometry-dash.png" alt="Geometry Dash"></a>

<a data-cat="adventure" href="games/u-y/"><img src="games/u-y/u-y.webp" alt="Undertale Yellow"></a>
<a data-cat="adventure" href="games/99-n/"><img src="games/99-n/99-n.webp" alt="99 Nights in the Forest"></a>

<a data-cat="arcade" href="games/just-fall/"><img src="games/just-fall/unnamed.png" alt="Just Fall"></a>

<a data-cat="action" href="games/a-u/"><img src="games/a-u/a-u.png" alt="Among Us"></a>

<a data-cat="arcade" href="games/spacebar-clicker/"><img src="games/spacebar-clicker/spacebar-clicker.png" alt="Spacebar Clicker"></a>

<a data-cat="arcade" href="games/spiral-roll/"><img src="games/spiral-roll/spiral-roll.png" alt="Spiral Roll"></a>

<a data-cat="sports" href="games/soccer-random/"><img src="games/soccer-random/soccer-random.webp" alt="Soccer Random"></a>
<a data-cat="sports" href="games/volley-random/"><img src="games/volley-random/volley-random.webp" alt="Volley Random"></a>

<a data-cat="adventure" href="games/dl3/"><img src="games/dl3/dl3.jpg" alt="Duck Life 3"></a>

<a data-cat="arcade" href="games/archery/"><img src="games/archery/archery.png" alt="Archery World Tour"></a>

<a data-cat="action" href="games/rise-higher/"><img src="games/rise-higher/rise-higher.jpeg" alt="Rise Higher"></a>

<a data-cat="arcade" href="games/unicycle-hero/"><img src="games/unicycle-hero/unicycle-hero.png" alt="Unicycle Hero"></a>

<a data-cat="action" href="games/stick-merge/"><img src="games/stick-merge/stick-merge.webp" alt="Stick Merge"></a>

<a data-cat="arcade" href="games/tf/"><img src="games/tf/tf.png" alt="Tiny Fishing"></a>

<a data-cat="platformer" href="games/swingo/"><img src="games/b-s/b-s.png" alt="Blumgi Swingo"></a>

<a data-cat="racing" href="games/msc2/"><img src="games/msc2/msc2.png" alt="Madalin Stunt Cars 2"></a>

<a data-cat="arcade" href="games/ping1/"><img src="games/ping/ping.avif" alt="Ping Pong Go"></a>

<a data-cat="arcade" href="games/bottle-flip/"><img src="games/bottle-flip/bottle-flip.webp" alt="Bottle Flip"></a>

<a data-cat="adventure" href="games/crazy-cars/"><img src="games/crazy-cars/crazy-cars.webp" alt="Crazy Cars"></a>

<a data-cat="action" href="games/burn/"><img src="games/burn/burn.jpg" alt="Burnin' Rubber"></a>

<a data-cat="arcade" href="games/sb/"><img src="games/sb/sb.jpg" alt="Sand Boxels"></a>


  `;

  const container = document.getElementById("games");
  const temp = document.createElement("div");
  temp.innerHTML = raw.trim();

  [...temp.children].forEach(a => {
    const img = a.querySelector("img");
    const alt = img.alt;
    const category = a.getAttribute("data-cat");

    let href = a.getAttribute("href");
    let src = img.getAttribute("src");

    // Apply your rule to href
    if (href.startsWith("/")) {
      href = "https://educational-moyv.github.io" + href;
    } else {
      href = "https://educational-moyv.github.io/shiv/" + href;
    }

    // Apply your rule to image src
    if (src.startsWith("/")) {
      src = "https://educational-moyv.github.io" + src;
    } else {
      src = "https://educational-moyv.github.io/shiv/" + src;
    }

    const card = document.createElement("div");
    card.className = "game";
    card.setAttribute("data-cat", category);
    card.onclick = () => {
      window.location.href = "embed.html?game=" + encodeURIComponent(href);
    };

    const newImg = document.createElement("img");
    newImg.src = src;
    newImg.alt = alt;

    card.appendChild(newImg);
    container.appendChild(card);
  });

  // SEARCH
  const search = document.getElementById("search");
  search.addEventListener("input", () => {
    const term = search.value.toLowerCase();
    document.querySelectorAll(".game").forEach(card => {
      const alt = card.querySelector("img").alt.toLowerCase();
      card.style.display = alt.includes(term) ? "block" : "none";
    });
  });

  // CATEGORY FILTER
  document.querySelectorAll(".cat").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll(".cat").forEach(c => c.classList.remove("active"));
      btn.classList.add("active");

      const cat = btn.dataset.cat;

      document.querySelectorAll(".game").forEach(game => {
        if (cat === "all" || game.dataset.cat === cat) {
          game.style.display = "block";
        } else {
          game.style.display = "none";
        }
      });
    });
  });
</script>

</body>
</html>
